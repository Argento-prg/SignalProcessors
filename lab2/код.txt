#include <stdio.h>
#include <math.h>

#define N 8  // Размер блока

void dct(int input[N][N], float output[N][N]) {
    int i, j, u, v;
    float cu, cv, sum;

    for (u = 0; u < N; u++) {
        for (v = 0; v < N; v++) {
            if (u == 0) {
                cu = 1.0 / sqrt(2.0);
            } else {
                cu = 1.0;
            }

            if (v == 0) {
                cv = 1.0 / sqrt(2.0);
            } else {
                cv = 1.0;
            }

            sum = 0.0;
            for (i = 0; i < N; i++) {
                for (j = 0; j < N; j++) {
                    sum += input[i][j] * cos((2.0 * i + 1.0) * u * M_PI / (2.0 * N)) *
                           cos((2.0 * j + 1.0) * v * M_PI / (2.0 * N));
                }
            }

            output[u][v] = 0.25 * cu * cv * sum;
        }
    }
}

int main() {
    int input[N][N] = {
        {231, 32, 233, 161, 24, 71, 140, 245},
        {247, 40, 248, 245, 124, 204, 36, 107},
        {234, 202, 245, 167, 9, 217, 239, 173},
        {193, 190, 100, 167, 43, 180, 8, 70},
        {11, 24, 210, 177, 81, 243, 8, 112},
        {97, 195, 203, 47, 125, 114, 165, 181},
        {193, 70, 174, 167, 41, 30, 127, 245},
        {87, 149, 57, 192, 65, 129, 178, 228}
    };
    float output[N][N];
    int i, j;

    dct(input, output);

    for (i = 0; i < N; i++) {
        for (j = 0; j < N; j++) {
            printf("%f ", output[i][j]);
        }
        printf("\n");
    }

    return 0;
}